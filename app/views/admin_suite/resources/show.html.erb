<% content_for :title, "#{resource_config&.human_name || resource_name.singularize.humanize} ##{resource.id}" %>

<div class="max-w-5xl">
  <div class="flex items-center justify-between mb-4">
    <h1 class="text-2xl font-bold text-slate-900 dark:text-white">
      <%= resource_config&.human_name || resource_name.singularize.humanize %> #<%= resource.id %>
    </h1>
    <div class="flex items-center gap-2">
      <%= link_to "Edit", edit_resource_path(portal: current_portal, resource_name: resource_name, id: resource.to_param),
        class: "px-4 py-2 rounded-lg bg-slate-100 hover:bg-slate-200 dark:bg-slate-700 dark:hover:bg-slate-600 text-slate-900 dark:text-white text-sm font-medium" %>
      <%= button_to "Delete", resource_path(portal: current_portal, resource_name: resource_name, id: resource.to_param),
        method: :delete,
        form: { data: { turbo_confirm: "Delete this record? This cannot be undone." } },
        class: "px-4 py-2 rounded-lg bg-red-600 hover:bg-red-700 text-white text-sm font-medium" %>
    </div>
  </div>

  <% if resource_config&.actions_config&.member_actions&.any? %>
    <div class="mb-4 flex flex-wrap gap-2">
      <% resource_config.actions_config.member_actions.each do |action_def| %>
        <%= button_to action_def.label,
          execute_action_path(portal: current_portal, resource_name: resource_name, id: resource.to_param, action_name: action_def.name),
          method: action_def.method || :post,
          form: { data: { turbo_confirm: action_def.confirm }.compact },
          class: "px-4 py-2 rounded-lg bg-indigo-600 hover:bg-indigo-700 text-white text-sm font-medium" %>
      <% end %>
    </div>
  <% end %>

  <div class="bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 p-6">
    <dl class="space-y-4">
      <% resource.attributes.each do |attr, _value| %>
        <div>
          <dt class="text-sm font-medium text-slate-500 dark:text-slate-400"><%= attr.humanize %></dt>
          <dd class="mt-1 text-sm text-slate-900 dark:text-white">
            <%= format_show_value(resource, attr) %>
          </dd>
        </div>
      <% end %>
    </dl>
  </div>
</div>
