<%# Company Feedback Display Component %>

<div class="space-y-4">
  <% if feedback.received_at.present? %>
    <div class="text-sm text-gray-500 dark:text-gray-400">
      Received <%= time_ago_in_words(feedback.received_at) %> ago
    </div>
  <% end %>

  <% if feedback.feedback_text.present? %>
    <div class="bg-gray-50 dark:bg-gray-900/50 rounded-lg p-4">
      <h4 class="text-sm font-medium text-gray-900 dark:text-white mb-2">Feedback</h4>
      <p class="text-sm text-gray-600 dark:text-gray-400 whitespace-pre-wrap">
        <%= feedback.feedback_text %>
      </p>
    </div>
  <% end %>

  <% if feedback.rejection_reason.present? %>
    <div class="bg-red-50 dark:bg-red-900/20 rounded-lg p-4">
      <h4 class="text-sm font-medium text-red-900 dark:text-red-400 mb-2">Rejection Reason</h4>
      <p class="text-sm text-red-700 dark:text-red-300 whitespace-pre-wrap">
        <%= feedback.rejection_reason %>
      </p>
    </div>
  <% end %>

  <% if feedback.next_steps.present? %>
    <div class="bg-green-50 dark:bg-green-900/20 rounded-lg p-4">
      <h4 class="text-sm font-medium text-green-900 dark:text-green-400 mb-2">Next Steps</h4>
      <p class="text-sm text-green-700 dark:text-green-300 whitespace-pre-wrap">
        <%= feedback.next_steps %>
      </p>
    </div>
  <% end %>

  <% if feedback.self_reflection.present? %>
    <div class="bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4">
      <h4 class="text-sm font-medium text-blue-900 dark:text-blue-400 mb-2">Your Reflection</h4>
      <p class="text-sm text-blue-700 dark:text-blue-300 whitespace-pre-wrap">
        <%= feedback.self_reflection %>
      </p>
    </div>
  <% end %>

  <div class="flex items-center justify-end gap-2 pt-4 border-t border-gray-200 dark:border-gray-700">
    <%= link_to edit_interview_application_company_feedback_path(feedback.interview_application),
        class: "inline-flex items-center px-3 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white" do %>
      <svg class="w-4 h-4 mr-1.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"/>
      </svg>
      Edit Feedback
    <% end %>
  </div>
</div>

