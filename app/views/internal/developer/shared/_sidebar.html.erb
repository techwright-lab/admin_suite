<%# Developer Portal Sidebar - New Admin Framework %>

<aside class="flex flex-col w-72 bg-gradient-to-b from-indigo-900 via-indigo-800 to-purple-900 h-full">
  <!-- Header -->
  <div class="flex items-center justify-between h-16 px-4 border-b border-indigo-700/50">
    <%= link_to internal_developer_root_path, class: "flex items-center gap-3" do %>
      <div class="flex items-center justify-center w-9 h-9 rounded-lg bg-indigo-500/30 border border-indigo-400/30">
        <svg class="w-5 h-5 text-indigo-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"/>
        </svg>
      </div>
      <div>
        <span class="text-lg font-bold text-white">Developer</span>
        <span class="block text-xs text-indigo-300">Admin Framework v2</span>
      </div>
    <% end %>
  </div>

  <!-- Quick Links -->
  <div class="px-3 py-3 border-b border-indigo-700/50">
    <div class="flex gap-2">
      <%= link_to internal_developer_root_path, 
          class: "flex-1 px-3 py-2 text-xs font-medium text-indigo-200 bg-indigo-800/50 rounded-lg hover:bg-indigo-700/50 text-center transition-colors" do %>
        Dashboard
      <% end %>
      <%= link_to internal_developer_docs_path, 
          class: "flex-1 px-3 py-2 text-xs font-medium text-indigo-200 bg-indigo-800/50 rounded-lg hover:bg-indigo-700/50 text-center transition-colors" do %>
        Docs
      <% end %>
    </div>
  </div>

  <!-- Portal Navigation -->
  <nav class="flex-1 overflow-y-auto px-3 py-4 space-y-2">
    <!-- Ops Portal -->
    <div>
      <% ops_active = request.path.start_with?("/internal/developer/ops") %>
      <%= link_to internal_developer_ops_root_path, 
          class: "flex items-center gap-3 px-3 py-2.5 rounded-lg transition-colors #{ops_active ? 'bg-amber-500/20 text-white' : 'text-indigo-200 hover:bg-indigo-700/30 hover:text-white'}" do %>
        <div class="flex items-center justify-center w-8 h-8 rounded-lg <%= ops_active ? 'bg-amber-500/30' : 'bg-indigo-800/50' %>">
          <svg class="w-4 h-4 <%= ops_active ? 'text-amber-400' : 'text-indigo-400' %>" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"/>
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/>
          </svg>
        </div>
        <span class="font-medium">Ops Portal</span>
      <% end %>
      
      <% if ops_active %>
        <div class="mt-1 ml-11 space-y-0.5 text-sm">
          <div class="text-xs font-medium text-indigo-400/70 uppercase tracking-wider px-3 pt-2 pb-1">Content</div>
          <%= link_to "Companies", internal_developer_ops_companies_path, class: "block px-3 py-1.5 rounded #{controller_name == 'companies' ? 'text-white bg-indigo-700/50' : 'text-indigo-300 hover:text-white'}" %>
          <%= link_to "Job Roles", internal_developer_ops_job_roles_path, class: "block px-3 py-1.5 rounded #{controller_name == 'job_roles' ? 'text-white bg-indigo-700/50' : 'text-indigo-300 hover:text-white'}" %>
          <%= link_to "Categories", internal_developer_ops_categories_path, class: "block px-3 py-1.5 rounded #{controller_name == 'categories' ? 'text-white bg-indigo-700/50' : 'text-indigo-300 hover:text-white'}" %>
          <%= link_to "Skill Tags", internal_developer_ops_skill_tags_path, class: "block px-3 py-1.5 rounded #{controller_name == 'skill_tags' ? 'text-white bg-indigo-700/50' : 'text-indigo-300 hover:text-white'}" %>
          <%= link_to "Job Listings", internal_developer_ops_job_listings_path, class: "block px-3 py-1.5 rounded #{controller_name == 'job_listings' ? 'text-white bg-indigo-700/50' : 'text-indigo-300 hover:text-white'}" %>
          <%= link_to "Blog Posts", internal_developer_ops_blog_posts_path, class: "block px-3 py-1.5 rounded #{controller_name == 'blog_posts' ? 'text-white bg-indigo-700/50' : 'text-indigo-300 hover:text-white'}" %>
          
          <div class="text-xs font-medium text-indigo-400/70 uppercase tracking-wider px-3 pt-3 pb-1">Applications</div>
          <%= link_to "Applications", internal_developer_ops_interview_applications_path, class: "block px-3 py-1.5 rounded #{controller_name == 'interview_applications' ? 'text-white bg-indigo-700/50' : 'text-indigo-300 hover:text-white'}" %>
          <%= link_to "Interview Rounds", internal_developer_ops_interview_rounds_path, class: "block px-3 py-1.5 rounded #{controller_name == 'interview_rounds' ? 'text-white bg-indigo-700/50' : 'text-indigo-300 hover:text-white'}" %>
          <%= link_to "Company Feedbacks", internal_developer_ops_company_feedbacks_path, class: "block px-3 py-1.5 rounded #{controller_name == 'company_feedbacks' ? 'text-white bg-indigo-700/50' : 'text-indigo-300 hover:text-white'}" %>
          
          <div class="text-xs font-medium text-indigo-400/70 uppercase tracking-wider px-3 pt-3 pb-1">Users</div>
          <%= link_to "Users", internal_developer_ops_users_path, class: "block px-3 py-1.5 rounded #{controller_name == 'users' ? 'text-white bg-indigo-700/50' : 'text-indigo-300 hover:text-white'}" %>
          <%= link_to "Connected Accounts", internal_developer_ops_connected_accounts_path, class: "block px-3 py-1.5 rounded #{controller_name == 'connected_accounts' ? 'text-white bg-indigo-700/50' : 'text-indigo-300 hover:text-white'}" %>
          <%= link_to "Support Tickets", internal_developer_ops_support_tickets_path, class: "block px-3 py-1.5 rounded #{controller_name == 'support_tickets' ? 'text-white bg-indigo-700/50' : 'text-indigo-300 hover:text-white'}" %>
          
          <div class="text-xs font-medium text-indigo-400/70 uppercase tracking-wider px-3 pt-3 pb-1">Email</div>
          <%= link_to "Synced Emails", internal_developer_ops_synced_emails_path, class: "block px-3 py-1.5 rounded #{controller_name == 'synced_emails' ? 'text-white bg-indigo-700/50' : 'text-indigo-300 hover:text-white'}" %>
          <%= link_to "Email Senders", internal_developer_ops_email_senders_path, class: "block px-3 py-1.5 rounded #{controller_name == 'email_senders' ? 'text-white bg-indigo-700/50' : 'text-indigo-300 hover:text-white'}" %>
          
          <div class="text-xs font-medium text-indigo-400/70 uppercase tracking-wider px-3 pt-3 pb-1">Scraping</div>
          <%= link_to "Scraping Attempts", internal_developer_ops_scraping_attempts_path, class: "block px-3 py-1.5 rounded #{controller_name == 'scraping_attempts' ? 'text-white bg-indigo-700/50' : 'text-indigo-300 hover:text-white'}" %>
          <%= link_to "Scraping Events", internal_developer_ops_scraping_events_path, class: "block px-3 py-1.5 rounded #{controller_name == 'scraping_events' ? 'text-white bg-indigo-700/50' : 'text-indigo-300 hover:text-white'}" %>
          <%= link_to "HTML Scraping Logs", internal_developer_ops_html_scraping_logs_path, class: "block px-3 py-1.5 rounded #{controller_name == 'html_scraping_logs' ? 'text-white bg-indigo-700/50' : 'text-indigo-300 hover:text-white'}" %>
          
          <div class="text-xs font-medium text-indigo-400/70 uppercase tracking-wider px-3 pt-3 pb-1">System</div>
          <%= link_to "Settings", internal_developer_ops_settings_path, class: "block px-3 py-1.5 rounded #{controller_name == 'settings' ? 'text-white bg-indigo-700/50' : 'text-indigo-300 hover:text-white'}" %>
        </div>
      <% end %>
    </div>

    <!-- AI Portal -->
    <div>
      <% ai_active = request.path.start_with?("/internal/developer/ai") %>
      <%= link_to internal_developer_ai_root_path, 
          class: "flex items-center gap-3 px-3 py-2.5 rounded-lg transition-colors #{ai_active ? 'bg-cyan-500/20 text-white' : 'text-indigo-200 hover:bg-indigo-700/30 hover:text-white'}" do %>
        <div class="flex items-center justify-center w-8 h-8 rounded-lg <%= ai_active ? 'bg-cyan-500/30' : 'bg-indigo-800/50' %>">
          <svg class="w-4 h-4 <%= ai_active ? 'text-cyan-400' : 'text-indigo-400' %>" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"/>
          </svg>
        </div>
        <span class="font-medium">AI Portal</span>
      <% end %>
      
      <% if ai_active %>
        <div class="mt-1 ml-11 space-y-0.5 text-sm">
          <div class="text-xs font-medium text-indigo-400/70 uppercase tracking-wider px-3 pt-2 pb-1">LLM</div>
          <%= link_to "LLM Prompts", internal_developer_ai_llm_prompts_path, class: "block px-3 py-1.5 rounded #{controller_name == 'llm_prompts' ? 'text-white bg-indigo-700/50' : 'text-indigo-300 hover:text-white'}" %>
          <%= link_to "Provider Configs", internal_developer_ai_llm_provider_configs_path, class: "block px-3 py-1.5 rounded #{controller_name == 'llm_provider_configs' ? 'text-white bg-indigo-700/50' : 'text-indigo-300 hover:text-white'}" %>
          
          <div class="text-xs font-medium text-indigo-400/70 uppercase tracking-wider px-3 pt-3 pb-1">Logs</div>
          <%= link_to "LLM API Logs", internal_developer_ai_llm_api_logs_path, class: "block px-3 py-1.5 rounded #{controller_name == 'llm_api_logs' ? 'text-white bg-indigo-700/50' : 'text-indigo-300 hover:text-white'}" %>
        </div>
      <% end %>
    </div>

    <!-- Assistant Portal -->
    <div>
      <% assistant_active = request.path.start_with?("/internal/developer/assistant") %>
      <%= link_to internal_developer_assistant_root_path, 
          class: "flex items-center gap-3 px-3 py-2.5 rounded-lg transition-colors #{assistant_active ? 'bg-violet-500/20 text-white' : 'text-indigo-200 hover:bg-indigo-700/30 hover:text-white'}" do %>
        <div class="flex items-center justify-center w-8 h-8 rounded-lg <%= assistant_active ? 'bg-violet-500/30' : 'bg-indigo-800/50' %>">
          <svg class="w-4 h-4 <%= assistant_active ? 'text-violet-400' : 'text-indigo-400' %>" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"/>
          </svg>
        </div>
        <span class="font-medium">Assistant Portal</span>
      <% end %>
      
      <% if assistant_active %>
        <div class="mt-1 ml-11 space-y-0.5 text-sm">
          <div class="text-xs font-medium text-indigo-400/70 uppercase tracking-wider px-3 pt-2 pb-1">Chat</div>
          <%= link_to "Threads", internal_developer_assistant_threads_path, class: "block px-3 py-1.5 rounded #{controller_name == 'threads' ? 'text-white bg-indigo-700/50' : 'text-indigo-300 hover:text-white'}" %>
          <%= link_to "Turns", internal_developer_assistant_turns_path, class: "block px-3 py-1.5 rounded #{controller_name == 'turns' ? 'text-white bg-indigo-700/50' : 'text-indigo-300 hover:text-white'}" %>
          <%= link_to "Events", internal_developer_assistant_events_path, class: "block px-3 py-1.5 rounded #{controller_name == 'events' ? 'text-white bg-indigo-700/50' : 'text-indigo-300 hover:text-white'}" %>
          
          <div class="text-xs font-medium text-indigo-400/70 uppercase tracking-wider px-3 pt-3 pb-1">Tools</div>
          <%= link_to "Tools", internal_developer_assistant_tools_path, class: "block px-3 py-1.5 rounded #{controller_name == 'tools' ? 'text-white bg-indigo-700/50' : 'text-indigo-300 hover:text-white'}" %>
          <%= link_to "Tool Executions", internal_developer_assistant_tool_executions_path, class: "block px-3 py-1.5 rounded #{controller_name == 'tool_executions' ? 'text-white bg-indigo-700/50' : 'text-indigo-300 hover:text-white'}" %>
          
          <div class="text-xs font-medium text-indigo-400/70 uppercase tracking-wider px-3 pt-3 pb-1">Memory</div>
          <%= link_to "Memory Proposals", internal_developer_assistant_memory_proposals_path, class: "block px-3 py-1.5 rounded #{controller_name == 'memory_proposals' ? 'text-white bg-indigo-700/50' : 'text-indigo-300 hover:text-white'}" %>
          <%= link_to "Thread Summaries", internal_developer_assistant_thread_summaries_path, class: "block px-3 py-1.5 rounded #{controller_name == 'thread_summaries' ? 'text-white bg-indigo-700/50' : 'text-indigo-300 hover:text-white'}" %>
          <%= link_to "User Memories", internal_developer_assistant_user_memories_path, class: "block px-3 py-1.5 rounded #{controller_name == 'user_memories' ? 'text-white bg-indigo-700/50' : 'text-indigo-300 hover:text-white'}" %>
        </div>
      <% end %>
    </div>
  </nav>

  <!-- Footer -->
  <div class="p-3 border-t border-indigo-700/50">
    <div class="px-3 py-2 text-xs text-indigo-400">
      <div class="flex items-center justify-between">
        <span>Framework v2</span>
        <span class="font-medium text-indigo-300">3 Portals â€¢ 28 Resources</span>
      </div>
    </div>
  </div>
</aside>
